import { cn } from "@/lib/utils";

// prettier-ignore
const DEFAULT_DIGITS: Record<string, string[]> = {
    "0": ["██ ", 
          "█ █", 
          "█ █", 
          "█ █", 
          " ██"],
  
    "1": [" █ ", 
          "██ ", 
          " █ ", 
          " █ ", 
          "███"],
  
    "2": ["███", 
          "  █", 
          "███", 
          "█  ", 
          "███"],
  
    "3": ["███", 
          "  █", 
          "███", 
          "  █", 
          "███"],
  
    "4": ["█ █", 
          "█ █", 
          "███", 
          "  █", 
          "  █"],
  
    "5": ["███", 
          "█  ", 
          "███", 
          "  █", 
          "███"],
  
    "6": ["███", 
          "█  ", 
          "███", 
          "█ █", 
          "███"],
  
    "7": ["███", 
           "  █", 
           "  █", 
           "  █", 
           "  █"],
  
    "8": ["███", 
          "█ █", 
          "███", 
          "█ █", 
          "███"],
  
    "9": ["███", 
          "█ █", 
          "███", 
          "  █", 
          "███"],

};
// prettier-ignore
const DEFAULT_CHARS: Record<string, string[]> = {
      
  "A": [" █ ", 
        "█ █", 
        "███", 
        "█ █", 
        "█ █"],

  "B": ["██ ", 
        "█ █", 
        "██ ", 
        "█ █", 
        "██ "],

  "C": ["███", 
        "█  ", 
        "█  ", 
        "█  ", 
        "███"],

  "D": ["██ ", 
        "█ █", 
        "█ █", 
        "█ █", 
        "██ "],

  "E": ["███", 
        "█  ", 
        "███", 
        "█  ", 
        "███"],

  "F": ["███", 
        "█  ", 
        "██ ", 
        "█  ", 
        "█  "],

  "G": ["███", 
        "█  ", 
        "█  ", 
        "█ █", 
        "███"],

  "H": ["█ █", 
        "█ █", 
        "███", 
        "█ █", 
        "█ █"],

  "I": ["███", 
        " █ ", 
        " █ ", 
        " █ ", 
        "███"],

  "J": ["███", 
        "  █", 
        "  █", 
        "  █", 
        "██ "],

  "K": ["█ █", 
        "█ █", 
        "██", 
        "█ █", 
        "█ █"],

  "L": ["█  ", 
        "█  ", 
        "█  ", 
        "█  ", 
        "███"],

  "M": ["█ █", 
        "███", 
        "█ █", 
        "█ █", 
        "█ █"],

  "N": ["██ ", 
        "█ █", 
        "█ █", 
        "█ █", 
        "█ █"],

  "O": ["███", 
        "█ █", 
        "█ █", 
        "█ █", 
        "███"],

  "P": ["███", 
        "█ █", 
        "███", 
        "█  ",
        "█  "],

  "Q": ["███", 
        "█ █", 
        "█ █", 
        "█ █", 
        "██ "],

  "R": ["██ ", 
        "█ █", 
        "██ ", 
        "█ █",
        "█ █"],

  "S": ["███", 
        "█  ", 
        "███", 
        "  █", 
        "███"],

  "T": ["███", 
        " █ ", 
        " █ ", 
        " █ ", 
        " █ "],

  "U": ["█ █", 
        "█ █", 
        "█ █", 
        "█ █", 
        "███"],

  "V": ["█ █", 
        "█ █", 
        "█ █", 
        "█ █", 
        " █ "],

  "W": ["█ █", 
        "█ █", 
        "█ █", 
        "███", 
        "█ █"],

  "X": ["█ █", 
        "█ █", 
        " █ ", 
        "█ █", 
        "█ █"],

  "Y": ["█ █", 
        "█ █", 
        "███", 
        " █ ", 
        " █ "],

  "Z": ["███", 
        "  █", 
        " █ ",
        "█  ", 
        "███"],
  " ": ["  ", 
        "  ", 
        "  ", 
        "  ", 
        "  "],
}
// prettier-ignore
const LARGE_DIGITS: Record<string, string[]> = {
    "0": [" ███ ", 
          "█   █", 
          "█  ██", 
          "█ █ █", 
          "██  █", 
          "█   █", 
          " ███ "],

    "1": ["  █  ", 
          " ██  ", 
          "  █  ", 
          "  █  ", 
          "  █  ", 
          "  █  ", 
          " ███ "],

    "2": [" ███ ", 
          "█   █", 
          "    █", 
          "   █", 
          "  █  ", 
          " █   ", 
          "█████"],

    "3": [" ███ ", 
          "█   █", 
          "    █", 
          "  ██ ", 
          "    █", 
          "█   █", 
          " ███ "],

    "4": ["   █ ", 
          "  ██ ", 
          " █ █ ", 
          "█  █ ", 
          "█████", 
          "   █ ", 
          "   █ ", 
          "   █ "],

    "5": ["█████",
          "█    ",
          "████ ",
          "    █",
          "    █",
          "    █",
          "████ "],

    "6": [" ███ ", 
          "█   █", 
          "█    ", 
          "████ ", 
          "█   █", 
          "█   █", 
          " ███ "],

    "7": ["█████",
          "    █",
          "   █ ",
          "  █  ",
          " █   ",
          " █   ",
          " █   "],

    "8": [" ███ ", 
          "█   █", 
          "█   █", 
          " ███ ", 
          "█   █", 
          "█   █", 
          " ███ "],

    "9": [" ███ ", 
          "█   █", 
          "█   █", 
          " ████", 
          "    █", 
          "█   █", 
          " ███ "],
}

// prettier-ignore
const LARGE_CHARS: Record<string, string[]> = {
    "A": [" ███ ", 
          "█   █", 
          "█   █", 
          "█████", 
          "█   █", 
          "█   █", 
          "█   █"],

    "B": ["████ ", 
          "█   █", 
          "█   █", 
          "████ ", 
          "█   █", 
          "█   █", 
          "████ "],

    "C": [" ███ ", 
          "█   █", 
          "█    ", 
          "█    ", 
          "█    ", 
          "█   █", 
          " ███ "],

    "D": ["████", 
          "█   █", 
          "█   █", 
          "█   █", 
          "█   █", 
          "█   █", 
          "████"],

    "E": ["█████", 
          "█    ", 
          "█    ", 
          "████ ", 
          "█    ", 
          "█    ", 
          "█████"],

    "F": ["█████", 
          "█    ", 
          "█    ", 
          "████ ", 
          "█    ", 
          "█    ", 
          "█    "],

    "G": [" ███ ", 
          "█   █", 
          "█    ", 
          "█    ", 
          "█  ██", 
          "█   █", 
          " ███ "],

    "H": ["█   █", 
          "█   █", 
          "█   █", 
          "█████", 
          "█   █", 
          "█   █", 
          "█   █"],

    "I": ["█████", 
          "  █  ", 
          "  █  ", 
          "  █  ", 
          "  █  ", 
          "  █  ", 
          "█████"],

    "J": ["█████", 
          "    █", 
          "    █", 
          "    █", 
          "    █", 
          "█   █", 
          " ████"],

    "K": ["█   █", 
          "█  █ ", 
          "█ █  ", 
          "██   ", 
          "█ █  ", 
          "█  █ ", 
          "█   █"],

    "L": ["█    ", 
          "█    ", 
          "█    ",
          "█    ",
          "█    ",
          "█    ",
          "█████"],

    "M": ["█   █", 
          "██ ██", 
          "█ █ █", 
          "█ █ █", 
          "█   █", 
          "█   █", 
          "█   █"],

    "N": ["█   █", 
          "█   █", 
          "██  █", 
          "█ █ █", 
          "█  ██", 
          "█   █", 
          "█   █"],

    "O": [" ███ ", 
          "█   █", 
          "█   █", 
          "█   █", 
          "█   █", 
          "█   █", 
          " ███ "],

    "P": ["████ ", 
          "█   █", 
          "█   █", 
          "████ ", 
          "█    ", 
          "█    ", 
          "█    "],

    "Q": [" ███ ", 
          "█   █", 
          "█   █", 
          "█   █", 
          "█   █", 
          "█  █ ", 
          " ██ █"],

    "R": ["████ ", 
          "█   █", 
          "█   █", 
          "████ ", 
          "█   █", 
          "█   █", 
          "█   █"],

    "S": [" ███ ", 
          "█   █", 
          "█    ", 
          " ███ ", 
          "    █", 
          "█   █", 
          " ███ "],

    "T": ["█████", 
          "  █  ", 
          "  █  ", 
          "  █  ", 
          "  █  ", 
          "  █  ", 
          "  █  "],

    "U": ["█   █", 
          "█   █", 
          "█   █", 
          "█   █", 
          "█   █", 
          "█   █", 
          " ███ "],

    "V": ["█   █", 
          "█   █", 
          "█   █", 
          " █ █ ", 
          " █ █ ", 
          "  █  ", 
          "  █  "],

    "W": ["█   █", 
          "█   █", 
          "█   █",
          "█ █ █",
          "█ █ █",
          "██ ██",
          "█   █"],

    "X": ["█   █", 
          "█   █", 
          " █ █ ", 
          "  █  ", 
          " █ █ ", 
          "█   █", 
          "█   █"],
          
    "Y": ["█   █", 
          "█   █", 
          "█   █", 
          " █ █ ", 
          "  █  ", 
          "  █  ", 
          "  █  "],

    "Z": ["█████", 
          "    █", 
          "   █ ", 
          "  █  ", 
          " █   ", 
          "█    ", 
          "█████"],

    " ": ["     ", 
          "     ", 
          "     ", 
          "     ", 
          "     ", 
          "     ", 
          "     "],
}
const CHAR_PATTERNS_SIZES = {
  default: {
    ...DEFAULT_DIGITS,
    ...DEFAULT_CHARS,
  },
  sm: {
    ...DEFAULT_DIGITS,
    ...DEFAULT_CHARS,
  },
  lg: {
    ...LARGE_DIGITS,
    ...LARGE_CHARS,
  },
};

export const AsciiChar = ({
  value,
  className = "",
  size = "lg",
}: {
  value: string | number;
  className?: string;
  size?: "default" | "sm" | "lg";
}) => {
  const chars = String(value).toUpperCase().split("");

  const charSizePatterns = CHAR_PATTERNS_SIZES[size];

  return (
    <div className={`flex gap-2 ${className}`}>
      {chars.map((char) => {
        const charPatterns = charSizePatterns[char]?.join("").split("");
        if (!charPatterns) return null;
        return (
          <div
            key={char}
            className={cn("grid", {
              "grid-cols-3 grid-rows-3": size === "sm",
              "grid-cols-3 grid-rows-5": size === "default",
              "grid-cols-5 grid-rows-7": size === "lg",
            })}
          >
            {charPatterns.map((char, idx) => (
              <div
                key={idx}
                className={cn(
                  "h-4 w-2",
                  char === "█" ? "bg-current" : "bg-transparent",
                )}
              ></div>
            ))}
          </div>
        );
      })}
    </div>
  );
};
