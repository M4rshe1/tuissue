import { cn } from "@/lib/utils";

// prettier-ignore
const DIGITS_PATTERNS: Record<string, string[]> = {
    "0": ["███", 
          "█ █", 
          "█ █", 
          "█ █", 
          "███"],
  
    "1": [" █ ", 
          "██ ", 
          " █ ", 
          " █ ", 
          "███"],
  
    "2": ["███", 
          "  █", 
          "███", 
          "█  ", 
          "███"],
  
    "3": ["███", 
          "  █", 
          "███", 
          "  █", 
          "███"],
  
    "4": ["█ █", 
          "█ █", 
          "███", 
          "  █", 
          "  █"],
  
    "5": ["███", 
          "█  ", 
          "███", 
          "  █", 
          "███"],
  
    "6": ["███", 
          "█  ", 
          "███", 
          "█ █", 
          "███"],
  
    "7": ["███", 
           "  █", 
           "  █", 
           "  █", 
           "  █"],
  
    "8": ["███", 
          "█ █", 
          "███", 
          "█ █", 
          "███"],
  
    "9": ["███", 
          "█ █", 
          "███", 
          "  █", 
          "███"],

};
// prettier-ignore
const UPPERCASE_CHARS: Record<string, string[]> = {
      
  "A": [" █ ", 
        "█ █", 
        "███", 
        "█ █", 
        "█ █"],

  "B": ["██ ", 
        "█ █", 
        "██ ", 
        "█ █", 
        "██ "],

  "C": ["███", 
        "█  ", 
        "█  ", 
        "█  ", 
        "███"],

  "D": ["██ ", 
        "█ █", 
        "█ █", 
        "█ █", 
        "██ "],

  "E": ["███", 
        "█  ", 
        "███", 
        "█  ", 
        "███"],

  "F": ["███", 
        "█  ", 
        "██ ", 
        "█  ", 
        "█  "],

  "G": ["███", 
        "█  ", 
        "█  ", 
        "█ █", 
        "███"],

  "H": ["█ █", 
        "█ █", 
        "███", 
        "█ █", 
        "█ █"],

  "I": ["███", 
        " █ ", 
        " █ ", 
        " █ ", 
        "███"],

  "J": ["███", 
        "  █", 
        "  █", 
        "  █", 
        "██ "],

  "K": ["█ █", 
        "█ █", 
        "██", 
        "█ █", 
        "█ █"],

  "L": ["█  ", 
        "█  ", 
        "█  ", 
        "█  ", 
        "███"],

  "M": ["█ █", 
        "███", 
        "█ █", 
        "█ █", 
        "█ █"],

  "N": ["█ █", 
        "███", 
        "███", 
        "███", 
        "█ █"],

  "O": ["███", 
        "█ █", 
        "█ █", 
        "█ █", 
        "███"],

  "P": ["███", 
        "█ █", 
        "███", 
        "█  ",
        "█  "],

  "Q": ["███", 
        "█ █", 
        "█ █", 
        "█ █", 
        "██ "],

  "R": ["██ ", 
        "█ █", 
        "██ ", 
        "█ █",
        "█ █"],

  "S": ["███", 
        "█  ", 
        "███", 
        "  █", 
        "███"],

  "T": ["███", 
        " █ ", 
        " █ ", 
        " █ ", 
        " █ "],

  "U": ["█ █", 
        "█ █", 
        "█ █", 
        "█ █", 
        "███"],

  "V": ["█ █", 
        "█ █", 
        "█ █", 
        "█ █", 
        " █ "],

  "W": ["█ █", 
        "█ █", 
        "█ █", 
        "███", 
        "█ █"],

  "X": ["█ █", 
        "█ █", 
        " █ ", 
        "█ █", 
        "█ █"],

  "Y": ["█ █", 
        "█ █", 
        "███", 
        " █ ", 
        " █ "],

  "Z": ["███", 
        "  █", 
        " █ ",
        "█  ", 
        "███"],
  " ": ["  ", 
        "  ", 
        "  ", 
        "  ", 
        "  "],
}

// prettier-ignore
const LOWERCASE_CHARS: Record<string, string[]> = {
  "a": ["   ", 
        "   ", 
        " ██", 
        "█ █", 
        "███"],

  "b": ["█  ", 
        "█  ", 
        "██", 
        "█ █", 
        "███"],

  "c": ["   ", 
        "   ", 
        "███", 
        "█  ", 
        "███"],

  "d": ["  █", 
        "  █", 
        " ██", 
        "█ █", 
        "███"],

  "e": ["   ", 
        "   ", 
        "███", 
        "█ █", 
        "██ "],

  "f": [" ██", 
        " █ ", 
        "██ ", 
        " █ ", 
        " █ "],
  "g": ["   ", 
        "   ", 
        "███", 
        "█ █", 
        "███", 
        "  █", 
        "  █", 
        "███"],

  "h": ["█  ", 
        "█  ", 
        "███", 
        "█ █", 
        "█ █"],

  "i": [" █ ", 
        "   ", 
        " █ ", 
        " █ ", 
        " █ "],

  "j": ["  █", 
        "  █", 
        "  █", 
        "  █", 
        "██ "],

  "k": ["█  ", 
        "█ █", 
        "██ ", 
        "█ █", 
        "█ █"],

  "l": ["█  ", 
        "█  ", 
        "█  ", 
        "█  ", 
        "██ "],

  "m": ["   ", 
        "█ █", 
        "███", 
        "█ █", 
        "█ █"],

  "n": ["   ", 
        "   ", 
        "   ", 
        "███", 
        "█ █"],

  "o": ["   ", 
        "   ", 
        "███", 
        "█ █", 
        "███"],
  "p": ["   ", 
        "   ", 
        "███", 
        "█ █", 
        "██ ",
        "█  ",
        "█  ",],

  "q": ["   ", 
        "   ", 
        "███", 
        "█ █", 
        "███", 
        "  █", 
        "  █", 
        "  █"],
  "r": ["   ", 
        "   ", 
        "███", 
        "█  ", 
        "█  "],
  "s": ["   ", 
        "   ", 
        " ██", 
        " █ ", 
        "██ "],

  "t": ["   ", 
        " █ ", 
        "███", 
        " █ ", 
        " █ "],

  "u": ["   ", 
        "   ", 
        "█ █", 
        "█ █", 
        "███",],

  "v": ["   ", 
        "   ", 
        "█ █", 
        "█ █", 
        " █ "],

  "w": ["   ", 
        "█ █", 
        "█ █", 
        "███", 
        "█ █"],

  "x": ["   ", 
        "   ", 
        "█ █", 
        " █ ", 
        "█ █"],

  "y": ["   ", 
        "   ", 
        "█ █", 
        " ██", 
        "  █", 
        " █ ", 
        "█  "],

  "z": ["   ", 
        "   ", 
        "███", 
        "  █", 
        "█ ", 
        "███"],
};

const CHAR_PATTERNS = {
  ...DIGITS_PATTERNS,
  ...UPPERCASE_CHARS,
};

export const AsciiChar = ({
  value,
  className = "",
  size = "default",
}: {
  value: string | number;
  className?: string;
  size?: "default" | "sm" | "lg";
}) => {
  const chars = String(value).toUpperCase().split("");

  return (
    <div className={`flex gap-2 ${className}`}>
      {chars.map((char) => {
        const charPatterns = CHAR_PATTERNS[char]?.join("").split("");
        if (!charPatterns) return null;
        return (
          <div key={char} className="grid grid-cols-3 grid-rows-5">
            {charPatterns.map((char, idx) => (
              <div
                key={idx}
                className={cn(char === "█" ? "bg-current" : "bg-transparent", {
                  "h-4 w-2": size === "default",
                  "h-2 w-1": size === "sm",
                  "h-5 w-2.5": size === "lg",
                })}
              ></div>
            ))}
          </div>
        );
      })}
    </div>
  );
};
